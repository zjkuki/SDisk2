{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Clean",
            "detail": "Run clean",
            "type": "shell",
            "command": "Remove-Item \"*.d\", \"*.map\", \"*.o\", \"*.elf\" -Force -ErrorAction \"SilentlyContinue\"",
            "problemMatcher": [
                
            ],            
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },        
        {
            "label": "Build",
            "detail": "Build SDisk2 Hex File",
            "type": "shell",
            "command": "${workspaceFolder}\\firmware\\src\\makesdisk.cmd",
            "args": [
                /*"${workspaceFolder}\\$oled.c",
                "-o",
                "${workspaceFolder}\\${fileBasenameNoExtension}.elf",                
                "-g",
                "-Os",
                "-Wall",
                "-Wno-deprecated-declarations",
                "-Wno-strict-aliasing",
                "-Wextra",
                "-D__PROG_TYPES_COMPAT__",
                "-D_SDISK_OLED_",
                "-fpack-struct",
                "-fshort-enums",
                "-funsigned-char",
                "-funsigned-bitfields",
                "-fpermissive",
                "-fno-exceptions",
                "-fno-threadsafe-statics",
                "-ffunction-sections",
                "-fdata-sections",
                "-std=gnu99",
                "-pipe",
                "-mmcu=atmega328p",
                "-DF_CPU=27000000UL",
                "-MMD",
                "-MP",
                "-c"*/
            ],
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "Flash",
            "detail": "Run flash",
            "type": "shell",
            "command": "D:\\AVR\\avrdude\\avrdude.exe",
            "args": [
                "-c","arduino","-p","atmega328p","-U","flash:w:\"${fileBasenameNoExtension}.hex\":a","-P","COM3"
            ],
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        }
    ]
}